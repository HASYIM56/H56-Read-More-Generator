<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>H56 Read More Generator | WhatsApp, Telegram, Inline, & More</title>
  <meta name="description" content="H56 Read More Generator oleh Muhammad Ali Hasyim - Buat pesan WhatsApp, Telegram, dan platform lain dengan fitur read more, termasuk mode sembunyi datar (inline) profesional. Praktis, responsif, dan mudah digunakan untuk kebutuhan chat modern Anda.">
  <meta name="author" content="Muhammad Ali Hasyim">
  <link rel="icon" type="image/png" href="H56.png">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" />
  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    :root {
      --brown-hero-from: #f9f6f2;
      --brown-hero-to: #f9f6f2;
      --brown-glass-bg: rgba(243, 236, 225, 0.9);
      --brown-glass-border: rgba(179, 147, 126, 0.45);
      --brown-glass-shadow: 0 14px 40px rgba(179,147,126,0.18), 0 4px 12px rgba(0,0,0,0.08);
      --brown-btn: #b3937e;
      --brown-btn-hover: #a0754e;
      --brown-accent: #7a5431;
      --brown-text: #4e3724;
      --brown-dark: #3a2415;
      --brown-light: #f7e9dc;
      --glass-blur: 16px;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--brown-hero-from);
      min-height: 100vh;
      color: var(--brown-dark);
      position: relative;
      z-index: 1;
    }
    #particles-js {
      position: fixed;
      width: 100vw;
      height: 100vh;
      top: 0;
      left: 0;
      z-index: 0;
      pointer-events: none;
      background: transparent;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(25px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .fade-in { animation: fadeIn 0.7s cubic-bezier(.57,.21,.69,1.25) both; }
    .btn-glow:hover {
      box-shadow: 0 0 22px 4px rgba(179,147,126,0.15), 0 2px 8px rgba(179,147,126,0.10);
      background: var(--brown-btn-hover);
      color: #fff;
      transform: translateY(-2px) scale(1.04);
    }
    .glass-card {
      background: var(--brown-glass-bg);
      backdrop-filter: blur(var(--glass-blur));
      border: 2px solid var(--brown-glass-border);
      box-shadow: var(--brown-glass-shadow);
    }
    .btn-animate:active {
      transform: scale(0.97);
      box-shadow: 0 0 0 0 rgba(179,147,126,0.0);
    }
    .icon-rotate { transition: transform 0.3s cubic-bezier(.57,.21,.69,1.25);}
    .btn:active .icon-rotate { transform: rotate(-20deg) scale(1.12);}
    .range-info::-webkit-slider-thumb {
      background: var(--brown-accent) !important;
      box-shadow: 0 0 0 3px var(--brown-light);
    }
    .range-info::-moz-range-thumb { background: var(--brown-accent) !important;}
    .range-info::-ms-thumb { background: var(--brown-accent) !important;}
    @media (max-width: 600px) {.fade-in {animation-duration: 1s;}}
    .toast {z-index: 9999;}
    #flatSeparatorWrap { display: none;}
    .show-flat-separator { display: block !important; animation: fadeIn 0.5s;}
    -brown { color: var(--brown-dark);}
    .bg-brown { background: var(--brown-btn);}
    .bg-brown-light { background: var(--brown-light);}
    .border-brown { border-color: var(--brown-glass-border);}
    .shadow-brown { box-shadow: var(--brown-glass-shadow);}
    .bg-gradient-brown {
      background: var(--brown-hero-from);
    }
    .select, .input, .textarea {
      background: #f9f6f2 !important;
      border-color: var(--brown-glass-border) !important;
      color: var(--brown-dark) !important;
      font-weight: 500;
      font-size: 1rem;
      letter-spacing: 0.03em;
    }
    .select:focus, .input:focus, .textarea:focus {
      border-color: var(--brown-accent) !important;
      box-shadow: 0 0 0 2px var(--brown-accent) !important;
    }
    .btn-info, .btn-outline.btn-info {
      background: var(--brown-btn);
      color: #fff;
      border-color: var(--brown-accent);
      font-weight: 600;
      font-size: 1.08rem;
    }
    .btn-outline.btn-info:hover, .btn-info:hover {
      background: var(--brown-btn-hover);
      color: #fff;
    }
    .btn-ghost {
      color: var(--brown-accent);
      font-weight: 600;
    }
    .alert-info {
      background: var(--brown-light);
      color: var(--brown-dark);
      border-color: var(--brown-accent);
      font-weight: 600;
    }
    ::selection {
      background: var(--brown-accent);
      color: #fff;
    }
    .logo-h56 {
      height: 72px;
      width: 72px;
      margin-bottom: 16px;
      box-shadow: 0 10px 28px -8px var(--brown-accent);
      border-radius: 18px;
      object-fit: contain;
      background: #fff;
      border: 3px solid var(--brown-accent);
      display: inline-block;
    }
    .main-heading {
      font-size: 2.9rem;
      font-weight: 900;
      letter-spacing: -0.02em;
      line-height: 1.13;
      color: var(--brown-dark);
    }
    @media (min-width: 768px) {
      .main-heading {
        font-size: 4.3rem;
      }
      .logo-h56 {
        height: 96px;
        width: 96px;
        margin-bottom: 22px;
      }
    }
    .label-text {
      font-size: 1.08rem !important;
      font-weight: 700 !important;
      color: var(--brown-accent) !important;
      letter-spacing: 0.01em;
    }
    .result-label {
      font-size: 1.05rem !important;
      font-weight: 800 !important;
      color: var(--brown-accent) !important;
      letter-spacing: 0.01em;
    }
    .result-area {
      font-size: 1.08rem;
      font-weight: 600;
      color: var(--brown-dark) !important;
      background: var(--brown-light) !important;
      border: 2px solid var(--brown-btn-hover) !important;
      box-shadow: 0 0 16px rgba(179,147,126,0.11);
      resize: vertical;
    }
    .card-body {
      padding: 1.5rem 0.8rem;
    }
    .input, .select, .textarea {
      font-size: 1.01rem;
    }
    .info-tip {
      color: var(--brown-accent) !important;
      font-weight: 600;
      padding: 2px 0;
    }
    .footer {
      background: var(--brown-glass-bg);
      border-top: 2px solid var(--brown-glass-border);
      box-shadow: 0 0 18px -8px var(--brown-accent);
      backdrop-filter: blur(var(--glass-blur));
      margin-top: 2.8rem;
      padding: 2.2rem 1.2rem 1.2rem 1.2rem;
      border-radius: 28px 28px 0 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.3em;
      color: var(--brown-accent);
      font-weight: 600;
      font-size: 1.03rem;
    }
    .footer-main-wrap {
      width: 100%;
      max-width: 700px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1em;
    }
    /* --- START: Improved Social Button --- */
    .footer-social {
      width: 100%;
      margin-top: 1.2rem;
      margin-bottom: 1.1rem;
      display: flex;
      gap: 1.4em;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    .footer-social a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 54px;
      height: 54px;
      border-radius: 50%;
      background: var(--brown-light);
      border: 2.5px solid var(--brown-btn-hover);
      box-shadow: 0 2px 14px -6px var(--brown-accent);
      transition: background 0.24s, color 0.22s, box-shadow 0.22s, transform 0.22s;
      color: var(--brown-accent);
      font-size: 1.7rem;
      position: relative;
      overflow: hidden;
    }
    .footer-social a .social-label {
      position: absolute;
      bottom: -34px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--brown-btn-hover);
      color: #fff;
      font-size: 0.89rem;
      font-weight: 700;
      border-radius: 12px;
      padding: 0.15em 0.85em;
      box-shadow: 0 2px 8px -6px var(--brown-accent);
      opacity: 0;
      pointer-events: none;
      transition: all 0.33s;
      z-index:2;
    }
    .footer-social a:hover {
      background: var(--brown-accent);
      color: #fff;
      box-shadow: 0 8px 26px -8px var(--brown-accent);
      transform: translateY(-3px) scale(1.09);
    }
    .footer-social a:hover .social-label {
      bottom: -2px;
      opacity: 1;
      pointer-events: auto;
    }
    .footer-social i {
      font-size: 1.34em;
      transition: transform 0.22s;
      z-index:3;
    }
    .footer-social a:hover i {
      transform: scale(1.22) rotate(-10deg);
    }
    @media (max-width: 640px) {
      .footer {
        padding: 1.4rem 0.6rem 0.7rem 0.6rem;
        border-radius: 22px 22px 0 0;
        font-size: 0.97rem;
      }
      .footer-main-wrap {
        max-width: 99vw;
        gap: 0.7em;
      }
      .footer-info { font-size: 0.99rem; padding: 0.45em 0.5em;}
      .footer-social { gap: 0.7em;}
      .footer-social a {
        width: 44px;
        height: 44px;
        font-size: 1.15rem;
      }
      .footer-social a .social-label {
        font-size: 0.81rem;
        padding: 0.13em 0.55em;
      }
    }
    /* --- END: Improved Social Button --- */
    .footer-info {
      background: linear-gradient(90deg, #f7e9dc 70%, #fff8 100%);
      border-radius: 12px;
      font-size: 1.04rem;
      font-weight: 600;
      color: var(--brown-accent);
      margin-bottom: 0.7em;
      padding: 0.45em 1em;
      box-shadow: 0 1px 12px -7px var(--brown-btn-hover);
      text-align: center;
    }
    .footer-copyright {
      margin-top: 0.6em;
      font-size: 1rem;
      font-weight: 700;
      color: var(--brown-text);
      text-align: center;
      letter-spacing: 0.012em;
    }
    .footer-copyright span {
      color: var(--brown-btn-hover);
      font-weight: 800;
    }
    @media (max-width: 640px) {
      .footer {
        padding: 1.4rem 0.6rem 0.7rem 0.6rem;
        border-radius: 22px 22px 0 0;
        font-size: 0.97rem;
      }
      .footer-main-wrap {
        max-width: 99vw;
        gap: 0.7em;
      }
      .footer-info { font-size: 0.99rem; padding: 0.45em 0.5em;}
      .footer-social { gap: 0.7em;}
    }
    .shadow-xl {
      box-shadow: 0 14px 40px rgba(179,147,126,0.15), 0 4px 12px rgba(0,0,0,0.1);
    }
    .generator-label-unique {
      display: inline-flex;
      align-items: center;
      gap: 0.6em;
      padding: 0.37em 1.18em 0.37em 1.35em;
      background: linear-gradient(92deg, var(--brown-btn-hover) 0%, var(--brown-accent) 65%, var(--brown-btn) 100%);
      border-radius: 28px;
      box-shadow: 0 4px 16px -4px var(--brown-btn-hover);
      font-size: 1.18rem;
      font-weight: 800;
      color: #fff;
      margin-top: 1.1em;
      margin-bottom: 0.5em;
      letter-spacing: 0.012em;
      border: 2.5px solid var(--brown-accent);
      position: relative;
      z-index: 2;
      transition: background 0.3s cubic-bezier(.57,.21,.69,1.25);
      user-select: none;
    }
    .generator-label-unique:before {
      content: "⚡";
      font-size: 1.25em;
      filter: drop-shadow(0 0 8px #fff3);
      margin-right: 0.5em;
      text-shadow: 0 2px 8px var(--brown-btn-hover);
    }
    .generator-label-unique span {
      background: linear-gradient(90deg, #fff9 0%, #fff3 100%);
      padding: 0.16em 0.65em;
      border-radius: 15px;
      color: var(--brown-accent);
      font-weight: 900;
      font-size: 1.02em;
      margin-left: 0.3em;
      box-shadow: 0 1px 10px -5px #fff5;
    }
    .generator-label-unique:hover {
      background: linear-gradient(98deg, var(--brown-accent) 0%, var(--brown-btn-hover) 70%, var(--brown-btn) 100%);
      box-shadow: 0 8px 28px -8px var(--brown-btn-hover);
      color: #fff;
    }

    /* --- Loading Overlay --- */
    #loadingOverlay {
      position: fixed;
      z-index: 99999;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: linear-gradient(120deg, var(--brown-hero-from) 70%, var(--brown-btn-hover) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.7s cubic-bezier(.57,.21,.69,1.25), visibility 0.7s;
      opacity: 1;
      visibility: visible;
    }
    #loadingOverlay.fade-out {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
    .loading-inner {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.7em;
      background: var(--brown-glass-bg);
      padding: 2.2em 2em;
      border-radius: 2em;
      box-shadow: 0 14px 40px rgba(179,147,126,0.15), 0 4px 12px rgba(0,0,0,0.1);
      border: 2.5px solid var(--brown-glass-border);
      backdrop-filter: blur(var(--glass-blur));
      max-width: 95vw;
    }
    .loading-logo {
      height: 62px; width: 62px;
      margin-bottom: 0;
      border-radius: 18px;
      border: 3px solid var(--brown-accent);
      background: #fff;
      object-fit: contain;
      box-shadow: 0 10px 28px -8px var(--brown-accent);
      animation: logo-bounce 1.7s infinite cubic-bezier(.57,.21,.69,1.25);
    }
    @media (min-width: 600px) {
      .loading-logo { height: 82px; width: 82px; }
    }
    @keyframes logo-bounce {
      0%, 100% { transform: translateY(0);}
      30% { transform: translateY(-12px);}
      60% { transform: translateY(-5px);}
    }
    /* DaisyUI spinner custom color */
    .daisy-spinner .mask {
      stroke: var(--brown-btn-hover) !important;
    }
    .daisy-spinner .loading-ring {
      stroke: var(--brown-accent) !important;
    }
    .loading-title {
      font-size: 1.18rem;
      font-weight: 800;
      color: var(--brown-accent);
      letter-spacing: 0.012em;
      text-align: center;
      text-shadow: 0 2px 8px #fff2;
    }
    .loading-desc {
      font-size: 0.98rem;
      color: var(--brown-dark);
      text-align: center;
      opacity: 0.85;
      font-weight: 600;
    }
    @media (max-width: 700px) {
      .loading-inner {
        padding: 1.3em 1em;
        border-radius: 1.2em;
        gap: 1.3em;
      }
      .loading-title { font-size: 1.04rem;}
      .loading-desc { font-size: 0.93rem;}
    }
  </style>
</head>
<body class="bg-gradient-brown font-sans text-brown">
  <!-- Loading Overlay Start -->
  <div id="loadingOverlay">
    <div class="loading-inner">
      <img src="H56.png" alt="Logo Loading" class="loading-logo" />
      <!-- DaisyUI spinner -->
      <span class="loading loading-spinner daisy-spinner loading-lg" style="color: var(--brown-accent);"></span>
      <div class="loading-title">
        H56 Read More Generator
      </div>
      <div class="loading-desc">
        Memuat website...<br>
        silakan tunggu sebentar.
      </div>
    </div>
  </div>
  <!-- Loading Overlay End -->

  <!-- Particles background -->
  <div id="particles-js"></div>
  <main class="max-w-2xl mx-auto p-4 md:p-8 fade-in" style="position:relative; z-index:1;">
    <!-- Header -->
    <section class="text-center mb-10">
      <img src="H56.png" alt="H56 Logo" class="logo-h56 mx-auto" />
      <h1 class="main-heading font-extrabold drop-shadow-sm tracking-tight">
        <span class="bg-gradient-to-r from-[var(--brown-accent)] via-[var(--brown-btn-hover)] to-[var(--brown-btn)] bg-clip-text text-transparent">H56 Read More Generator</span>
      </h1>
      <!-- Unique Generator Label -->
      <div class="generator-label-unique mx-auto inline-block">
        Created by <span>Muhammad Ali Hasyim</span>
      </div>
      <p class="mt-5 text-brown text-lg md:text-xl font-semibold info-tip">
        Buat pesan dengan <span class="font-extrabold" style="color: var(--brown-accent);">read more</span> tersembunyi untuk WhatsApp, Telegram, dll.
      </p>
      <div class="mt-2 text-sm" style="color: var(--brown-accent); font-weight:700;">
        <span class="font-semibold">✨ Fitur baru:</span> <span class="bg-brown-light px-2 py-1 rounded-lg" style="color: var(--brown-accent); font-weight:800;">Sembunyi Datar</span>
        (<b>inline:</b> hasil seperti "Halo..read more" jadi "Halo semuanya" setelah diklik readmore dan tetap di satu baris)
        <br>
        <span class="font-semibold">✨ Fitur terbaru:</span> <span class="bg-brown-light px-2 py-1 rounded-lg" style="color: var(--brown-accent); font-weight:800;">Inline V2 (Single line)</span>
        (<b>inline V2:</b> hasil seperti "Halo" + [padding] + "Dunia", tetap satu baris, readmore muncul, cocok untuk WhatsApp.)
      </div>
      <div class="mt-4 text-base font-bold" style="color: var(--brown-btn-hover);">
        <span>Dikembangkan oleh Muhammad Ali Hasyim</span>
      </div>
    </section>

    <!-- Card -->
    <div class="glass-card rounded-3xl p-5 md:p-8 transition-all duration-300 hover:shadow-brown shadow-xl">
      <div class="card-body space-y-10">

        <!-- Inputs grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <!-- Teks Depan -->
          <div>
            <label class="label"><span class="label-text">Teks depan</span></label>
            <textarea id="frontText" class="textarea textarea-bordered w-full h-44 rounded-xl focus:outline-none transition-all" placeholder="Teks yang terlihat sebelum ‘Read more’..."></textarea>
          </div>
          <!-- Teks Belakang -->
          <div>
            <label class="label"><span class="label-text">Teks belakang (tersembunyi)</span></label>
            <textarea id="backText" class="textarea textarea-bordered w-full h-44 rounded-xl focus:outline-none transition-all" placeholder="Teks yang muncul setelah dibuka…"></textarea>
          </div>
        </div>

        <!-- Options -->
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-7 items-end">
          <!-- Preset -->
          <div>
            <label class="label"><span class="label-text">Preset platform</span></label>
            <select id="preset" class="select select-bordered w-full rounded-xl focus:outline-none bg-brown-light">
              <option value="whatsapp" selected>WhatsApp (disarankan)</option>
              <option value="telegram">Telegram</option>
              <option value="generic">Generic</option>
              <option value="flat">Sembunyi Datar (inline)</option>
              <option value="inlinev2">Inline V2 (Single line)</option>
            </select>
          </div>
          <!-- Kekuatan Read More -->
          <div id="strengthWrap">
            <label class="label"><span class="label-text">Kekuatan Read More</span></label>
            <input id="strength" type="range" min="1" max="5" value="3" class="range range-info" />
            <div class="flex justify-between text-xs opacity-80 px-1 font-semibold info-tip">
              <span>Ringan</span><span>Default</span><span>Kuat</span>
            </div>
          </div>
          <!-- Tombol Generate -->
          <div class="flex sm:justify-end w-full">
            <button id="generateBtn" class="btn btn-info btn-block sm:btn-wide font-semibold rounded-xl shadow-md btn-glow btn-animate transition-all flex gap-2 items-center justify-center">
              <span class="icon-rotate">
                <svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2.2" viewBox="0 0 24 24"><path d="M12 5v14m0 0l-5-5m5 5l5-5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </span>
              Generate
              <span id="loadingSpin" class="hidden ml-2">
                <svg class="animate-spin" width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="#dbc3a2" stroke-width="4" stroke-dasharray="32 12"></circle></svg>
              </span>
            </button>
          </div>
        </div>

        <!-- Flat Separator Option (hidden by default) -->
        <div id="flatSeparatorWrap" class="mt-2">
          <label class="label"><span class="label-text">Teks pemicu read more (default: ...read more)</span></label>
          <input id="flatSeparator" type="text" class="input input-bordered w-full rounded-xl focus:outline-none bg-brown-light" value="...read more" maxlength="25" autocomplete="off" />
          <div class="text-xs mt-1 info-tip">Contoh: ...read more, [read more], dst. Setelah diklik akan digantikan oleh teks belakang dan tetap sejajar dalam satu baris.</div>
        </div>

        <!-- Output -->
        <div>
          <label class="label"><span class="result-label">Result (siap disalin)</span></label>
          <textarea id="result" class="textarea result-area w-full h-52 rounded-xl focus:outline-none bg-brown-light" readonly placeholder="Hasil akan muncul di sini…"></textarea>
          <div class="mt-4 flex flex-wrap gap-3">
            <button id="copyBtn" class="btn btn-outline btn-info rounded-xl shadow-sm btn-glow btn-animate flex gap-2 items-center">
              <span class="icon-rotate">
                <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.1" viewBox="0 0 24 24"><path d="M8 16h8a2 2 0 0 0 2-2V8M8 16V18a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H8z" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 2H6a2 2 0 0 0-2 2v12" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </span>
              Salin
            </button>
            <button id="clearBtn" class="btn btn-ghost rounded-xl btn-animate flex gap-2 items-center">
              <span class="icon-rotate">
                <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.1" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </span>
              Bersihkan
            </button>
          </div>
          <p class="mt-3 text-xs info-tip">
            💡 <span class="font-bold" style="color: var(--brown-accent);">Tip:</span> Setelah disalin, tempelkan di WhatsApp/Telegram. Bila terlalu pendek, naikkan <em>Kekuatan Read More</em>.<br>
            <span class="font-semibold" style="color: var(--brown-accent);">Sembunyi Datar</span> cocok untuk pesan yang ingin tetap satu baris seperti: <code>Halo..read more</code> jadi <code>Halo semuanya</code> setelah diklik readmore.<br>
            <span class="font-semibold" style="color: var(--brown-accent);">Inline V2 (Single line)</span> cocok untuk pesan WhatsApp satu baris, hasil seperti <code>Halo[padding]Dunia</code> tetap satu baris, readmore muncul, lebih konsisten.
          </p>
        </div>
        <!-- Inline V2 Output, hidden by default -->
        <div id="inlineV2ResultWrap" style="display:none;" class="mt-6">
          <label class="label"><span class="result-label">Result Inline V2 (Single line, siap disalin)</span></label>
          <textarea id="inlineV2Result" class="textarea result-area w-full h-32 rounded-xl focus:outline-none bg-brown-light" readonly placeholder="Hasil Inline V2 akan muncul di sini…"></textarea>
          <div class="mt-3 flex flex-wrap gap-3">
            <button id="inlineV2CopyBtn" class="btn btn-outline btn-info rounded-xl shadow-sm btn-glow btn-animate flex gap-2 items-center">
              <span class="icon-rotate">
                <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.1" viewBox="0 0 24 24"><path d="M8 16h8a2 2 0 0 0 2-2V8M8 16V18a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H8z" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 2H6a2 2 0 0 0-2 2v12" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </span>
              Salin Inline V2
            </button>
          </div>
          <p class="mt-2 text-xs info-tip">💡 <span class="font-bold" style="color: var(--brown-accent);">Tip:</span> Hasil single line ini cocok untuk WhatsApp, tetap satu baris, "read more" muncul konsisten.</p>
        </div>
      </div>
    </div>

    <!-- Footer Improved -->
    <footer class="footer text-center">
      <div class="footer-main-wrap">
        <div class="footer-social">
          <a href="https://youtube.com/@HASYIM56" target="_blank" rel="noopener" aria-label="YouTube @HASYIM56">
            <i class="fab fa-youtube"></i>
            <span class="social-label">YouTube</span>
          </a>
          <a href="https://instagram.com/hasyim56_modder" target="_blank" rel="noopener" aria-label="Instagram @hasyim56_modder">
            <i class="fab fa-instagram"></i>
            <span class="social-label">Instagram</span>
          </a>
          <a href="https://github.com/HASYIM56" target="_blank" rel="noopener" aria-label="GitHub HASYIM56">
            <i class="fab fa-github"></i>
            <span class="social-label">GitHub</span>
          </a>
        </div>
        <div class="footer-info">
          Dibuat dengan <span style="color: #e67e7e;">❤️</span> <span class="font-semibold" style="color: var(--brown-btn-hover);"></span> by HASYIM56.
        </div>
        <div class="footer-copyright">
          <span>Copyright © 2025 Muhammad Ali Hasyim</span>
        </div>
      </div>
    </footer>
  </main>

  <!-- particles.js library -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <!-- Particles config: warna cokelat -->
  <script>
    particlesJS('particles-js', {
      particles: {
        number: {
          value: 80,
          density: {
            enable: true,
            value_area: 800
          }
        },
        color: {
          value: ['#b3937e', '#a0754e', '#7a5431']
        },
        shape: {
          type: 'circle',
          stroke: {
            width: 0,
            color: '#7a5431'
          }
        },
        opacity: {
          value: 0.6,
          random: true,
          anim: {
            enable: true,
            speed: 1,
            opacity_min: 0.1,
            sync: false
          }
        },
        size: {
          value: 5,
          random: true,
          anim: {
            enable: false,
            speed: 4,
            size_min: 0.1,
            sync: false
          }
        },
        line_linked: {
          enable: true,
          distance: 150,
          color: '#a0754e',
          opacity: 0.3,
          width: 1
        },
        move: {
          enable: true,
          speed: 6,
          direction: 'none',
          random: false,
          straight: false,
          out_mode: 'out',
          bounce: false
        }
      },
      interactivity: {
        detect_on: 'canvas',
        events: {
          onhover: {
            enable: true,
            mode: 'repulse'
          },
          onclick: {
            enable: true,
            mode: 'push'
          }
        },
        modes: {
          repulse: {
            distance: 100,
            duration: 0.4
          },
          push: {
            particles_nb: 4
          }
        }
      },
      retina_detect: true
    });
  </script>

  <!-- Main app JS -->
  <script>
    function makeInvisibleBlock(lines, zwsPerLine) {
      const zws = "\u200B".repeat(zwsPerLine);
      const brailleBlank = "\u2800".repeat(Math.max(1, Math.floor(zwsPerLine / 4)));
      const oneLine = zws + brailleBlank;
      return ("\n" + oneLine).repeat(lines) + "\n";
    }

    function makeFlatHidden(separator, front, strength) {
      let base = 2700;
      let mult = { 1: 0.55, 2: 0.8, 3: 1.0, 4: 1.35, 5: 1.7 }[strength] || 1.0;
      let total = Math.floor((base + separator.length + front.length) * mult);

      let zws = "\u200B".repeat(total);
      let brailleBlank = "\u2800".repeat(Math.max(1, Math.floor(total / 4)));
      return zws + brailleBlank;
    }

    function makeInlineV2(front, back) {
      const PAD_DEFAULT = 2630;
      const ZWSP = '\u200B';
      const padding = ZWSP.repeat(PAD_DEFAULT);
      // Single line: front + [invisible padding] + back
      return (front || '') + padding + (back || '');
    }

    function getPresetConfig(preset, strength) {
      const base = { lines: 25, zws: 200 };
      const mult = { 1: 0.6, 2: 0.85, 3: 1.0, 4: 1.35, 5: 1.8 }[strength] || 1.0;
      let platformAdj = 1.0;
      switch (preset) {
        case 'telegram': platformAdj = 0.85; break;
        case 'generic': platformAdj = 0.9; break;
        case 'whatsapp':
        default: platformAdj = 1.0;
      }
      return {
        lines: Math.ceil(base.lines * mult * platformAdj),
        zws: Math.ceil(base.zws * mult)
      };
    }

    function showLoading(btn, show) {
      document.getElementById('loadingSpin').classList.toggle('hidden', !show);
      btn.disabled = show;
      btn.classList.toggle('btn-disabled', show);
    }

    function updateFlatSeparatorVisibility() {
      var preset = document.getElementById('preset').value;
      var wrap = document.getElementById('flatSeparatorWrap');
      var strengthWrap = document.getElementById('strengthWrap');
      if (preset === "flat") {
        wrap.classList.add('show-flat-separator');
        strengthWrap.style.display = '';
      } else {
        wrap.classList.remove('show-flat-separator');
        // Untuk preset inlinev2, kekuatan tidak berpengaruh
        if (preset === "inlinev2") {
          strengthWrap.style.display = 'none';
        } else {
          strengthWrap.style.display = '';
        }
      }
    }

    // Inline V2 Output Logic
    function updateInlineV2Output(preset, result) {
      const wrap = document.getElementById('inlineV2ResultWrap');
      const area = document.getElementById('inlineV2Result');
      if (preset === "inlinev2") {
        wrap.style.display = '';
        area.value = result;
      } else {
        wrap.style.display = 'none';
        area.value = '';
      }
    }

    function generate() {
      const btn = document.getElementById('generateBtn');
      showLoading(btn, true);
      setTimeout(() => {
        const front = document.getElementById('frontText').value || '';
        const back = document.getElementById('backText').value || '';
        const preset = document.getElementById('preset').value;
        const strength = parseInt(document.getElementById('strength').value, 10);
        const cfg = getPresetConfig(preset, strength);

        let result = "";
        if (preset === "flat") {
          const separator = document.getElementById('flatSeparator').value || "...read more";
          const invisibleFlat = makeFlatHidden(separator, front, strength);

          result = `${front}${separator}${invisibleFlat}${back}`.trim();
          document.getElementById('result').value = result;
          updateInlineV2Output(preset, "");
        }
        else if (preset === "inlinev2") {
          result = makeInlineV2(front, back).trim();
          document.getElementById('result').value = '';
          updateInlineV2Output(preset, result);
          showLoading(btn, false);
          return;
        }
        else {
          const hiddenBlock = makeInvisibleBlock(cfg.lines, cfg.zws);
          result = `${front}\n\n${hiddenBlock}\n${back}`.trim();
          document.getElementById('result').value = result;
          updateInlineV2Output(preset, "");
        }
        showLoading(btn, false);
      }, 350);
    }

    async function copyResult() {
      const text = document.getElementById('result').value;
      if (!text) return;
      try {
        await navigator.clipboard.writeText(text);
        toast('Hasil disalin ✅');
      } catch {
        const out = document.getElementById('result');
        out.select();
        document.execCommand('copy');
        toast('Disalin (fallback) ✅');
      }
    }

    async function copyInlineV2Result() {
      const text = document.getElementById('inlineV2Result').value;
      if (!text) return;
      try {
        await navigator.clipboard.writeText(text);
        toast('Hasil Inline V2 disalin ✅');
      } catch {
        const area = document.getElementById('inlineV2Result');
        area.select();
        document.execCommand('copy');
        toast('Disalin (fallback) ✅');
      }
    }

    function clearAll() {
      document.getElementById('frontText').value = '';
      document.getElementById('backText').value = '';
      document.getElementById('result').value = '';
      document.getElementById('inlineV2Result').value = '';
      toast('Form dibersihkan');
      generate();
    }

    function toast(message) {
      const t = document.createElement('div');
      t.className = 'toast toast-end';
      t.innerHTML = `<div class="alert alert-info shadow-lg"><span>${message}</span></div>`;
      document.body.appendChild(t);
      setTimeout(() => t.remove(), 1500);
    }

    document.getElementById('generateBtn').addEventListener('click', generate);
    document.getElementById('copyBtn').addEventListener('click', copyResult);
    document.getElementById('clearBtn').addEventListener('click', clearAll);
    document.getElementById('inlineV2CopyBtn').addEventListener('click', copyInlineV2Result);

    ['frontText','backText','preset','strength','flatSeparator'].forEach(id => {
      document.getElementById(id).addEventListener('input', () => {
        queueMicrotask(generate);
      });
    });

    document.getElementById('preset').addEventListener('change', () => {
      updateFlatSeparatorVisibility();
      queueMicrotask(generate);
    });

    window.onload = function() {
      updateFlatSeparatorVisibility();
      generate();
      // Hide loading overlay after everything ready
      setTimeout(function() {
        var overlay = document.getElementById('loadingOverlay');
        overlay.classList.add('fade-out');
        setTimeout(function() {
          overlay.style.display = 'none';
        }, 800);
      }, 900); // You can adjust loading duration here
    };
  </script>
</body>
</html>